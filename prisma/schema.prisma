generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Job {
  id               Int             @id @default(autoincrement())
  jobId            String          @unique
  clientName       String
  siteAddress      String
  status           String          @default("WIP")
  email            String?
  phone            String?
  gstNo            String?
  amount           String?         
  calculatedProfit String?
  wastageQuantity  String?
  
  // Naye Fields
  hardboard        String?
  glue             String?
  scotia           String?
  disposal         String?
  labourItem       String?

  createdAt        DateTime        @default(now())
  updatedAt        DateTime        @updatedAt
  inventoryItems   InventoryItem[] 
}

model InventoryItem {
  id          Int      @id @default(autoincrement())
  jobName     String
  description String
  quantity    String
  notes       String?
  imageUrl    String?
  status      String   @default("Active")
  jobRefId    Int?
  job         Job?     @relation(fields: [jobRefId], references: [id])
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}